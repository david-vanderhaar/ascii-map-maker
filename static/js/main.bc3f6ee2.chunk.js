(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(283)},110:function(e,t,a){},112:function(e,t,a){},283:function(e,t,a){"use strict";a.r(t);var l=a(0),i=a.n(l),n=a(20),s=a.n(n),r=(a(110),a(24)),o=a(15),c=a(16),h=a(18),d=a(17),u=a(19),m=(a(112),a(29)),p=a(44),b=a.n(p),f=(l.Component,function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(){a.props.handleUpdateTile(a.props.x,a.props.y)},a.handleMouseOver=function(){a.props.mouse_down&&a.props.handleUpdateTile(a.props.x,a.props.y),a.setState({fill:"red"})},a.handleMouseOut=function(){a.setState({fill:a.props.color})},a.state={character:e.character,fill:e.color},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(m.Text,{text:this.props.character,fill:this.state.fill,x:this.props.x,y:this.props.y,fontSize:16,align:"center",verticalAlign:"middle",width:this.props.tile_size,height:this.props.tile_size,onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut})}}]),t}(l.Component)),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={tiles:new Array(e.cols*e.rows).fill({type:0,character:".",color:"white"}),mouse_down:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getTile",value:function(e,t){return this.state.tiles[t*this.props.cols+e]}},{key:"drawTiles",value:function(){for(var e=[],t=0;t<this.props.cols;t++)for(var a=0;a<this.props.rows;a++){var l=this.getTile(t,a);e.push(i.a.createElement(f,{key:"".concat(t,"-").concat(a),x:t*this.props.tile_size,y:a*this.props.tile_size,character:l.character,color:l.color,tile_size:this.props.tile_size,mouse_down:this.state.mouse_down,handleUpdateTile:this.handleUpdateTile.bind(this)}))}return e}},{key:"handleUpdateTile",value:function(e,t){var a=e/this.props.tile_size,l=t/this.props.tile_size,i=this.state.tiles;i[l*this.props.cols+a]={type:1,character:this.props.selected_tile.character,color:this.props.selected_tile.color},this.setState({tiles:i})}},{key:"handleMouseDown",value:function(){this.setState({mouse_down:!0})}},{key:"handleMouseUp",value:function(){this.setState({mouse_down:!1})}},{key:"render",value:function(){return i.a.createElement("div",{className:"TileMap"},i.a.createElement(m.Stage,{width:this.props.cols*this.props.tile_size,height:this.props.rows*this.props.tile_size,onMouseDown:this.handleMouseDown.bind(this),onMouseUp:this.handleMouseUp.bind(this)},i.a.createElement(m.Layer,null,this.drawTiles().map(function(e){return e}))))}}]),t}(l.Component),_=a(103),O=a.n(_),w=a(104),E=a.n(w),j=a(66),g=a.n(j),y=a(105),T=a(45),k=a(35),S=a.n(k),C=a(102),N=a.n(C),x=a(30),M=a.n(x),z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(T.a)({},e,t.target.value))}},a.state={tile_label:"",tile_character:"",tile_color:"",tile_data:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(){var e={label:this.state.tile_label,character:this.state.tile_character,color:this.state.tile_color,data:Object(r.a)({},this.state.tile_data)};this.props.handleAddTile(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"TileForm"},i.a.createElement("div",{className:"form row"},i.a.createElement(S.a,{id:"tile-label",label:"Label",className:"text-field",defaultValue:this.state.tile_label,onChange:this.handleChange("tile_label"),margin:"normal",variant:"outlined"}),i.a.createElement(S.a,{id:"tile-character",label:"Character",className:"text-field",defaultValue:this.state.tile_character,onChange:this.handleChange("tile_character"),margin:"normal",variant:"outlined"}),i.a.createElement(S.a,{id:"tile-color",label:"Hex Color",className:"text-field",defaultValue:this.state.tile_color,onChange:this.handleChange("tile_color"),margin:"normal",variant:"outlined",InputProps:{startAdornment:i.a.createElement(N.a,{position:"start"},"#")}}),i.a.createElement(S.a,{id:"tile-data",label:"Data",placeholder:"{ type: tree }",multiline:!0,defaultValue:this.state.tile_data,onChange:this.handleChange("tile_data"),className:"text-field",margin:"normal",variant:"outlined"}),i.a.createElement(M.a,{variant:"outlined",color:"primary",className:"btn-full-width",onClick:this.onSubmit.bind(this)},i.a.createElement("i",{className:"material-icons"},"save"))))}}]),t}(l.Component),A=function(e){var t=e.id,a=e.label,l=e.color,n=e.character,s=e.data,r=e.handleSwapSelectedTile,o=e.handleRemoveTile;return i.a.createElement("div",{className:"TilePlate"},i.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){r({character:n,color:l,data:s})}},a),i.a.createElement(M.a,{color:"secondary","aria-label":"remove tile",onClick:function(){o(t)}},i.a.createElement("i",{className:"material-icons"},"delete")))},P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={tiles:[{id:1,label:"land",color:"#298",character:"L",data:{type:"province",owner:"Oda"}}],form_is_visible:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"drawTilePlates",value:function(){var e=this;return this.state.tiles.map(function(t,a){return i.a.createElement(A,{key:a,id:t.id,label:t.label,color:t.color,character:t.character,data:Object(r.a)({},t.data),handleSwapSelectedTile:e.props.handleSwapSelectedTile,handleRemoveTile:e.handleRemoveTile.bind(e)})})}},{key:"handleToggleForm",value:function(){this.setState({form_is_visible:!this.state.form_is_visible})}},{key:"handleAddTile",value:function(e){var t=Object(y.a)(this.state.tiles),a={id:t.length>0?t[t.length-1].id+1:1};t.push(Object(r.a)({},a,e)),this.setState({tiles:t,form_is_visible:!1})}},{key:"handleRemoveTile",value:function(e){var t=this.state.tiles.filter(function(t){return t.id!==e});this.setState({tiles:t})}},{key:"render",value:function(){return i.a.createElement("div",{className:"TilePalette tool-pane"},i.a.createElement("h4",null,"Palette"),this.drawTilePlates(),i.a.createElement("br",null),i.a.createElement(M.a,{variant:"outlined",color:"default",className:"btn-full-width",onClick:this.handleToggleForm.bind(this)},this.state.form_is_visible?i.a.createElement("i",{className:"material-icons"},"close"):i.a.createElement("i",{className:"material-icons"},"add")),this.state.form_is_visible&&i.a.createElement(z,{handleAddTile:this.handleAddTile.bind(this)}))}}]),t}(l.Component),U=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"RegionViewer tool-pane"},i.a.createElement("h4",null,"Regions"))}}]),t}(l.Component),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e,t){a.setState({value:t})},a.state={value:0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"ToolPanel"},i.a.createElement(O.a,{className:"tool-tabs",position:"static"},i.a.createElement(E.a,{variant:"fullWidth",value:this.state.value,onChange:this.handleChange},i.a.createElement(g.a,{label:"Palette"}),i.a.createElement(g.a,{label:"Regions"}))),i.a.createElement("span",{className:0===this.state.value?"":"hidden"},i.a.createElement(P,{handleSwapSelectedTile:this.props.handleSwapSelectedTile})),i.a.createElement("span",{className:1===this.state.value?"":"hidden"},i.a.createElement(U,null)))}}]),t}(l.Component),D=a(46),V=a.n(D),W=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={selected_tile:{character:"#",color:"#fff",data:null}},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleSwapSelectedTile",value:function(e){this.setState({selected_tile:e},console.log(this.state.selected_tile))}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",{className:"center"},"Total War Demake"),i.a.createElement(V.a,{container:!0,spacing:24},i.a.createElement(V.a,{item:!0,xs:12,sm:8},i.a.createElement(v,{cols:40,rows:40,tile_size:32,tile_gutter:8,selected_tile:Object(r.a)({},this.state.selected_tile)})),i.a.createElement(V.a,{item:!0,xs:12,sm:4},i.a.createElement(R,{handleSwapSelectedTile:this.handleSwapSelectedTile.bind(this)}))))}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,2,1]]]);
//# sourceMappingURL=main.bc3f6ee2.chunk.js.map