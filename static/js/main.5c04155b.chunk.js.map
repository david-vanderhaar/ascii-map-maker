{"version":3,"sources":["Components/JsonView.js","Components/Tiles.js","Components/TileMap.js","Components/TileForm.js","Components/TilePalette.js","Components/RegionViewer.js","Components/ToolPanel.js","Components/Toolbar.js","App.js","serviceWorker.js","index.js"],"names":["JsonView","_ref","cols","rows","tiles","react_default","a","createElement","className","Grid_default","container","spacing","item","xs","sm","Button_default","color","variant","aria-label","onClick","document","getElementById","select","execCommand","TextField_default","id","label","multiline","fullWidth","rowsMax","value","JSON","stringify","margin","TextTile","Component","_Component2","props","_this2","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","onUpdateTile","x","y","handleMouseOver","mouse_down","setState","fill","handleMouseOut","state","character","inherits","createClass","key","ReactKonva","text","fontSize","align","verticalAlign","width","tile_size","height","onMouseOver","onMouseOut","TileMap","_this","col","row","c","r","tile","getTile","push","Tiles_TextTile","concat","handleUpdateTile","bind","is_erasing","objectSpread","empty_tile","type","selected_tile","onUpdateTiles","onMouseDown","handleMouseDown","onMouseUp","handleMouseUp","drawTiles","map","TileForm","handleChange","name","event","defineProperty","target","tile_label","tile_character","tile_color","tile_data","new_tile","data","handleAddTile","defaultValue","onChange","InputProps","startAdornment","InputAdornment_default","position","placeholder","onSubmit","TilePlate","handleSwapSelectedTile","handleRemoveTile","TilePalette","owner","form_is_visible","index","TilePalette_TilePlate","toConsumableArray","tile_id","length","filter","drawTilePlates","handleToggleForm","Components_TileForm","RegionViewer","ToolPanel","AppBar_default","Tabs_default","Tab_default","Components_TilePalette","Components_RegionViewer","Toolbar","_Component","apply","arguments","onTogglePencil","onToggleErasing","App","tile_gutter","Array","selected_tile_properties","HashRouter","Toolbar_default","window","location","Components_Toolbar","handleToggleErasing","es","atEnter","opacity","atLeave","atActive","Route","exact","path","render","Components_TileMap","handleUpdateTiles","Components_ToolPanel","Components_JsonView","Boolean","hostname","match","ReactDOM","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5c04155b.chunk.js","sourcesContent":["import React from \"react\";\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\n\n\nconst JsonView = ({ cols, rows, tiles }) => (\n  <div className='JsonView'>\n    <Grid container spacing={24}>\n      <Grid item xs={12} sm={4}>\n        <Button\n          color=\"primary\"\n          variant='contained'\n          aria-label=\"copy\"\n          onClick={() => { \n            document.getElementById('json-export-data').select();\n            document.execCommand(\"copy\");\n          }}\n        >\n          Copy to Clipboard \n        </Button>\n      </Grid>\n      <Grid item xs={12} sm={8}>\n        <TextField\n          id=\"json-export-data\"\n          label=\"Json\"\n          multiline\n          fullWidth\n          rowsMax=\"8\"\n          value={JSON.stringify({\n            cols, rows, tiles\n          })}\n          margin=\"normal\"\n          variant=\"outlined\"\n        />\n      </Grid>\n    </Grid>\n  </div>\n);\n\nexport default JsonView;","import React, { Component } from \"react\";\nimport Konva from \"konva\";\nimport { Rect, Text } from \"react-konva\";\n\nexport class ColoredRect extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      color: \"black\"\n    };\n  }\n\n  handleClick = () => {\n    this.setState({\n      color: Konva.Util.getRandomColor()\n    });\n  };\n\n  render() {\n    return (\n      <Rect\n        x={this.props.x}\n        y={this.props.y}\n        width={this.props.tile_size - this.props.tile_gutter}\n        height={this.props.tile_size - this.props.tile_gutter}\n        fill={this.state.color}\n        onClick={this.handleClick}\n      />\n    );\n  }\n}\n\nexport class TextTile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      character: props.character,\n      fill: props.color,\n    };\n  }\n\n  handleClick = () => {\n    this.props.onUpdateTile(this.props.x, this.props.y)\n  };\n\n  handleMouseOver = () => {\n    let new_state = {\n      fill: 'red',\n    }\n    if (this.props.mouse_down) {\n      this.props.onUpdateTile(this.props.x, this.props.y)\n    }\n    this.setState(new_state);\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      fill: this.props.color\n    });\n  };\n\n  render() {\n    return (\n      <Text\n        text={this.props.character}\n        fill={this.state.fill}\n        x={this.props.x}\n        y={this.props.y}\n        fontSize={16}\n        align='center'\n        verticalAlign='middle'\n        width={this.props.tile_size}\n        height={this.props.tile_size}\n        onClick={this.handleClick}\n        onMouseOver={this.handleMouseOver}\n        onMouseOut={this.handleMouseOut}\n      />\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { Stage, Layer } from \"react-konva\";\nimport * as Tiles from './Tiles.js';\n\nclass TileMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mouse_down: false,\n    };\n  }\n\n  getTile (col, row) {\n    return this.props.tiles[row * this.props.cols + col]\n  }\n\n  drawTiles () {\n    let tiles = [];\n    for (let c = 0; c < this.props.cols; c++) {\n      for (let r = 0; r < this.props.rows; r++) {\n        let tile = this.getTile(c, r);\n        tiles.push(\n          <Tiles.TextTile\n            key={`${c}-${r}`}\n            x={c * this.props.tile_size}\n            y={r * this.props.tile_size}\n            character={tile.character}\n            color={tile.color}\n            tile_size={this.props.tile_size}\n            mouse_down={this.state.mouse_down}\n            onUpdateTile={this.handleUpdateTile.bind(this)}\n          />\n        )\n      }\n    }\n    \n    return tiles;\n  }\n\n  handleUpdateTile (x, y) {\n    const col = x / this.props.tile_size;\n    const row = y / this.props.tile_size;\n    let tiles = this.props.tiles;\n    tiles[row * this.props.cols + col] = this.props.is_erasing\n      ? ({...this.props.empty_tile})\n      : ({\n          type: 1,\n          character: this.props.selected_tile.character,\n          color: this.props.selected_tile.color,\n        });\n    this.props.onUpdateTiles(tiles)\n  }\n\n  handleMouseDown () {\n    this.setState({mouse_down: true})\n  }\n\n  handleMouseUp () {\n    this.setState({mouse_down: false})\n  }\n\n  render() {\n    return (\n      <div className='TileMap'>\n        <Stage \n          width={this.props.cols * this.props.tile_size} \n          height={this.props.rows * this.props.tile_size}\n          onMouseDown={this.handleMouseDown.bind(this)} \n          onMouseUp={this.handleMouseUp.bind(this)}\n        >\n          <Layer>\n            {\n              this.drawTiles().map((tile) => {\n                return tile;\n              })\n            }\n          </Layer>\n        </Stage>\n      </div>\n    );\n  }\n}\n\nexport default TileMap;\n","import React, { Component } from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Button from '@material-ui/core/Button';\n\nclass TileForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tile_label: '',\n      tile_character: '',\n      tile_color: '',\n      tile_data: '',\n    }\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  onSubmit () {\n    let new_tile = {\n      label: this.state.tile_label,\n      character: this.state.tile_character,\n      color: this.state.tile_color,\n      data: {...this.state.tile_data},\n    }\n    \n    this.props.handleAddTile(new_tile);\n  }\n\n  render() {\n    return (\n      <div className='TileForm'>\n        <div className='form row'>\n          <TextField\n            id=\"tile-label\"\n            label=\"Label\"\n            className={'text-field'}\n            defaultValue={this.state.tile_label}\n            onChange={this.handleChange('tile_label')}\n            margin=\"normal\"\n            variant=\"outlined\"\n          />\n          <TextField\n            id=\"tile-character\"\n            label=\"Character\"\n            className={'text-field'}\n            defaultValue={this.state.tile_character}\n            onChange={this.handleChange('tile_character')}\n            margin=\"normal\"\n            variant=\"outlined\"\n          />\n          <TextField\n            id=\"tile-color\"\n            label=\"Hex Color\"\n            className={'text-field'}\n            defaultValue={this.state.tile_color}\n            onChange={this.handleChange('tile_color')}\n            margin=\"normal\"\n            variant=\"outlined\"\n            InputProps={{\n              startAdornment: <InputAdornment position=\"start\">#</InputAdornment>,\n            }}\n          />\n          <TextField\n            id=\"tile-data\"\n            label=\"Data\"\n            placeholder='{\n              type: tree\n            }'\n            multiline\n            defaultValue={this.state.tile_data}\n            onChange={this.handleChange('tile_data')}\n            className={'text-field'}\n            margin=\"normal\"\n            variant=\"outlined\"\n          />\n          <Button \n            variant=\"outlined\" \n            color=\"primary\" \n            className='btn-full-width'\n            onClick={this.onSubmit.bind(this)}\n          >\n            <i className=\"material-icons\">\n              save\n            </i>\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TileForm;","import React, { Component } from \"react\";\nimport TileForm from './TileForm';\nimport Button from '@material-ui/core/Button';\n\nconst TilePlate = ({id, label, color, character, data, handleSwapSelectedTile, handleRemoveTile}) => (\n  <div className='TilePlate'>\n    <Button \n      variant=\"contained\" \n      color=\"primary\"\n      onClick={() => {\n        handleSwapSelectedTile({character, color, data})\n      }}\n    >\n      {label}\n    </Button>\n    <Button \n      color=\"secondary\" \n      aria-label=\"remove tile\"\n      onClick={() => {handleRemoveTile(id)}}\n    >\n      <i className=\"material-icons\">\n        delete\n      </i>\n    </Button>\n  </div>\n)\n\nclass TilePalette extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tiles: [\n        {\n          id: 1,\n          label: 'land',\n          color: '#298',\n          character: 'L',\n          data: {type: 'province', owner: 'Oda'}\n        },\n        {\n          id: 2,\n          label: 'water',\n          color: '#ace',\n          character: '~',\n          data: {type: 'natural', owner: 'none'}\n        },\n        {\n          id: 3,\n          label: 'mountain',\n          color: '#bbb',\n          character: 'M',\n          data: {type: 'natural', owner: 'none'}\n        },\n        {\n          id: 4,\n          label: 'army',\n          color: '#f44',\n          character: '@',\n          data: {type: 'troop', owner: 'Oda'}\n        },\n      ],\n      form_is_visible: false,\n    };\n  }\n\n  drawTilePlates () {\n    return this.state.tiles.map((tile, index) => {\n      return (\n        <TilePlate \n          key={index}\n          id={tile.id}\n          label={tile.label}\n          color={tile.color}\n          character={tile.character}\n          data={{...tile.data}}\n          handleSwapSelectedTile={this.props.handleSwapSelectedTile}\n          handleRemoveTile={this.handleRemoveTile.bind(this)}\n        />\n      )\n    })\n  }\n\n  handleToggleForm () {\n    this.setState({form_is_visible: !this.state.form_is_visible})\n  }\n\n  handleAddTile (new_tile) {\n    let tiles = [...this.state.tiles];\n    let next_id = tiles.length > 0 ? tiles[tiles.length - 1].id + 1 : 1;\n    let tile_id = {id: next_id};\n    tiles.push({...tile_id, ...new_tile});\n    this.setState({\n      tiles,\n      form_is_visible: false,\n    })\n  }\n\n  handleRemoveTile (id) {\n    let tiles = this.state.tiles.filter((tile) => tile.id !== id);\n    this.setState({tiles});\n  }\n\n  render() {\n    return (\n      <div className=\"TilePalette tool-pane\">\n        <h4>Palette</h4>\n        {this.drawTilePlates()}\n        <br />\n        <Button \n          variant=\"outlined\" \n          color=\"default\" \n          className='btn-full-width'\n          onClick={this.handleToggleForm.bind(this)}\n        >\n          {\n            (this.state.form_is_visible)\n            ? (\n                <i className=\"material-icons\">\n                  close\n                </i>\n            )\n            : (\n                <i className=\"material-icons\">\n                  add\n                </i>\n            )\n          }\n        </Button>\n        {\n          this.state.form_is_visible && <TileForm handleAddTile={this.handleAddTile.bind(this)}/>\n        }\n      </div>\n    );\n  }\n}\n\nexport default TilePalette;","import React, { Component } from \"react\";\n\nclass RegionViewer extends Component {\n  render() {\n    return (\n      <div className=\"RegionViewer tool-pane\">\n        <h4>Regions</h4>\n      </div>\n    );\n  }\n}\n\nexport default RegionViewer;","import React, { Component } from \"react\";\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport TilePalette from './TilePalette';\nimport RegionViewer from './RegionViewer';\n\nclass ToolPanel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 0,\n    };\n  }\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  render() {\n    return (\n      <div className=\"ToolPanel\">\n        <AppBar className='tool-tabs' position=\"static\">\n          <Tabs variant=\"fullWidth\" value={this.state.value} onChange={this.handleChange}>\n            <Tab label=\"Palette\" />\n            <Tab label=\"Regions\" />\n          </Tabs>\n        </AppBar>\n        {/* {this.state.value === 0 && <TilePalette handleSwapSelectedTile={this.props.handleSwapSelectedTile}/>}\n        {this.state.value === 1 && <RegionViewer />} */}\n        <span className={this.state.value === 0 ? '' : 'hidden'}>\n          <TilePalette handleSwapSelectedTile={this.props.handleSwapSelectedTile}/>\n        </span>\n        <span className={this.state.value === 1 ? '' : 'hidden'}>\n          <RegionViewer />\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default ToolPanel;","import React, { Component } from \"react\";\nimport Button from '@material-ui/core/Button';\n\nexport class Toolbar extends Component {\n  render() {\n    return (\n      <div className='Toolbar'>\n        <Button \n          className='btn-tool' \n          onClick={() => {this.props.onTogglePencil(this.props.selected_tile)}} \n          variant={!this.props.is_erasing ? 'contained' : 'outlined'}\n          color=\"secondary\"\n        >\n          <i className=\"material-icons\">\n            edit\n          </i>\n        </Button>\n        <Button \n          className='btn-tool' \n          onClick={this.props.onToggleErasing} \n          variant={this.props.is_erasing ? 'contained' : 'outlined'} \n          color=\"secondary\"\n        >\n          <i className=\"material-icons\">\n            indeterminate_check_box\n          </i>\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default Toolbar","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, HashRouter } from 'react-router-dom';\nimport { AnimatedSwitch } from 'react-router-transition';\nimport './App.scss';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport JsonView from './Components/JsonView';\nimport TileMap from './Components/TileMap';\nimport ToolPanel from './Components/ToolPanel';\nimport GridToolbar from './Components/Toolbar';\nimport Grid from '@material-ui/core/Grid';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    const cols = 40;\n    const rows = 40;\n    const tile_size = 32;\n    const tile_gutter = 8;\n    const empty_tile = { type: 0, character: '', color: 'white' };\n\n    this.state = {\n      cols,\n      rows,\n      tile_size,\n      tile_gutter,\n      empty_tile,\n      tiles: new Array(cols * rows).fill({...empty_tile}),\n      selected_tile: {\n        character: '#',\n        color: '#fff',\n        data: null,\n      },\n      is_erasing: false,\n    }\n  }\n\n  handleToggleErasing () {\n    this.setState({is_erasing: true});\n  }\n\n  handleSwapSelectedTile (selected_tile_properties) {\n    this.setState({\n      selected_tile: selected_tile_properties, \n      is_erasing: false // reset erasing tool\n    });\n  }\n\n  handleUpdateTiles (tiles) {\n    this.setState({tiles})\n  }\n\n  render() {\n    return (\n      <HashRouter>\n        <div className=\"App\">\n          <AppBar className=\"NavBar\" position=\"static\">\n            <Toolbar>\n              <h5 className=\"nav-title\" onClick={() => { window.location = '#/' }}>ASCII Map Maker</h5>\n              <GridToolbar \n                onToggleErasing={this.handleToggleErasing.bind(this)}\n                onTogglePencil={this.handleSwapSelectedTile.bind(this)}\n                selected_tile={this.state.selected_tile}\n                is_erasing={this.state.is_erasing}\n              />\n              <div className='nav-buttons-right'>\n                <Button color=\"inherit\" onClick={() => {window.location = '#/export'}}>Export</Button>\n              </div>\n            </Toolbar>\n          </AppBar>\n          <AnimatedSwitch\n            atEnter={{ opacity: 0 }}\n            atLeave={{ opacity: 0 }}\n            atActive={{ opacity: 1 }}\n            className=\"fade\"\n          >\n            <Route exact path={'/'} render={(props) => (\n              <Grid container spacing={24}>\n                <Grid item xs={12} sm={8}>\n                  <TileMap\n                    cols={this.state.cols}\n                    rows={this.state.rows}\n                    tiles={this.state.tiles}\n                    tile_size={32}\n                    tile_gutter={8}\n                    selected_tile={{ ...this.state.selected_tile }}\n                    onUpdateTiles={this.handleUpdateTiles.bind(this)}\n                    is_erasing={this.state.is_erasing}\n                    empty_tile={this.state.empty_tile}\n                  />\n                </ Grid>\n                <Grid item xs={12} sm={4}>\n                  <ToolPanel handleSwapSelectedTile={this.handleSwapSelectedTile.bind(this)} />\n                </ Grid>\n              </ Grid>\n            )} />\n            <Route path={'/export'} render={\n              (props) => (\n                <JsonView \n                  cols={this.state.cols}\n                  rows={this.state.rows}\n                  tiles={this.state.tiles} \n                />\n              )} \n            />\n          </AnimatedSwitch>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}